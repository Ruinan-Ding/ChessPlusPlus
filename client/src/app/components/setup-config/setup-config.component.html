<div class="setup-container">
  <div class="header">
    <button class="back-button" (click)="onBack()">Back to Lobby</button>
    <div class="save-section">
      <button class="save-button" [disabled]="!hasUnsavedChanges" (click)="saveConfig()">Save Configuration</button>
      <span class="save-success" *ngIf="savedSuccessfully">Saved!</span>
    </div>
  </div>

  <div class="config-section">
    <!-- Placeholder for unit/ability configuration UI -->
    <div class="config-ui">
      <h3>Units & Abilities Configuration</h3>
      <p>Configuration UI will be added here</p>
    </div>

    <!-- JSON configuration textarea -->
    <div class="json-section">
      <div class="json-header-row">
        <h3>JSON Configuration</h3>
        <button class="format-json-btn" (click)="formatJson()">Format JSON</button>
      </div>
      <textarea
        [(ngModel)]="jsonConfig"
        (ngModelChange)="onConfigChange()"
        placeholder="Paste your JSON configuration here..."
        rows="10"
        spellcheck="false"
      ></textarea>
    </div>
  </div>
</div>